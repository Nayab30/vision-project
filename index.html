<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>

    <!-- Font CDN -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">

<!-- CSS file -->
<link rel="stylesheet" href="./assets/CSS/style.css">

<!-- Remix ICON CDN -->
<link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
    rel="stylesheet"
/>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<!-- Bootstrap JS bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

  <style>
    .chatbot{
      background:var(--bg-base-color);
      margin: 0;
      height: 100vh;
    }

    .chat-container {
      width: 400px;
      height: 440px;
      background: var(--bg-base-color);
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      display: none;
      flex-direction: column;
      overflow: hidden;
      position: fixed;
      bottom: 80px;
      right: 20px;
      z-index: 1000;
      transition: 0.3s ease;
    }

    .chat-header {
      background: #de653f;
      color: rgb(0, 0, 0);
      padding: 12px;
      font-size: 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: 'Courier New', Courier, monospace;

    }

    .chat-header .title {
      font-weight: bold;
      font-family: 'Courier New', Courier, monospace;

    }

    .chat-header button {
      background: rgb(10, 10, 10);
      color: #eff0f2;
      border: none;
      padding: 5px 8px;
      margin-left: 5px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 10px;
    }

    .chat-box {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      font-size: 12px;
    }

    .bot-message, .user-message {
      max-width: 70%;
      padding: 8px 12px;
      margin: 5px 0;
      border-radius: 10px;
      clear: both;
      word-wrap: break-word;
    }

    .bot-message {
      background: #e1f5fe;
      float: left;
      font-family: 'Courier New', Courier, monospace;

    }

    .user-message {
      background: #e1cea4;
      float: right;
      font-family: 'Courier New', Courier, monospace;

    }

    .chat-input {
      display: flex;
      border-top: 1px solid #2c2b2b;
      font-family: 'Courier New', Courier, monospace;

    }

    .chat-input input {
      flex: 1;
      border: none;
      padding: 10px;
      font-size: 14px;
      outline: none;
      background-color: #484646;
      color:white;
      font-family: 'Courier New', Courier, monospace;

    }

    .chat-input button {
      background:  #de653f;
      color: rgb(7, 7, 7);
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      font-family: 'Courier New', Courier, monospace;

    }

    .fullscreen {
      width: 90vw !important;
      height: 80vh !important;
      border-radius: 0 !important;
    }

    .chatbot-icon {
      width: 60px;
      height: 60px;
      background:  #de653f url('https://cdn-icons-png.flaticon.com/512/4712/4712035.png') no-repeat center;
      background-size: 60%;
      border-radius: 50%;
      position: fixed;
      bottom: 20px;
      right: 20px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      z-index: 1001;
    }
  </style>

</head>
<body style="overflow-x: hidden;" >
  <div class="cursor" id="cursor"></div>
  <!-- --------------- Head Section----------- -->
  <header>
<!-- --------------------Navbar---------------- -->
<nav>
  <div class="lft-nav">
    <a href="#"><img src="./assets/images/logo.png" alt="logo" width="100"></a>

  </div>
  <div class="cent-nav">
    <a href="#">HOME</a>
    <a href="#">ABOUT US</a>
    <a href="courses.html">COURSES</a>
    <a href="#">CONTACT US</a>
    <a href="#">LOGIN</a>
  </div>
  <div class="right-nav">
    <button><a href="register.html">Get Started</a></button>
  
  </div>

  <i class="ri-menu-3-line"></i>

</nav>

<!-- --------------- responsive navbar------------ -->
<div class="responsive-nav">
  <i class="ri-close-large-line"></i>
  <a href="index.html">HOME</a>
    <a href="#">ABOUT US</a>
    <a href="#">COURSES</a>
    <a href="#">CONTACT US</a>
    <a href="#">LOGIN</a>
     <div class="res-nav-btn">
    <button>Get Started</button>
    
  </div>
</div>

<!-- ------------------Head banner-------------------- -->

<div id="vanta-canva">
  <div class="container hero-hd">
    <h1>Welcome to <span style="color:#de653f;">SkillPilot</span></h1>

    <h2 class="hero-hd2">Learn <span style="color:#de653f;" class="auto-type"></span></h2>
    <p>Confused about which course to take? We've got you covered! Browse courses and discover the best option for you. It's free! <span style="color:#de653f;">SkillPilot</span> is my effort to teach the basics and those coding techniques in a short time that took me years to master</p>
  </div>

<div class="hero-btn">
    <button>Get Started</button>
  
  </div>
</div>
</div>
<div class="chatbot">
    <div class="chatbot-icon" id="chatbot-icon"></div>

  <div class="chat-container" id="chat-container">
    <div class="chat-header">
      <span class="title">SkillPilot Bot ðŸš€</span>
      <div>
        <button id="new-chat-btn">New Chat</button>
        <button id="fullscreen-btn">Fullscreen</button>
      </div>
    </div>
    
    <div class="chat-box" id="chat-box"></div>
    
    <div class="chat-input">
      <input type="text" id="user-input" placeholder="Ask about courses, offers, etc...">
      <button id="send-btn">Send</button>
    </div>
  </div>
  </div>


  </header>

  
 


















  
<!-- ----------------------------------------------------footer-------------------------------- -->


  <footer>




  </footer>



<script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>

<script>
  var typed = new Typed(".auto-type",
{
    strings :["Web Development","Python","JAVA","Machine Learning","C++"],
    typeSpeed : 300,
    backSpeed : 300,
    loop : true
}
);
</script>

<!-- ---- Animated 3d background--- -->
<script src="https://cdn.jsdelivr.net/npm/three@0.134/build/three.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/vanta@0.5.24/dist/vanta.net.min.js"></script>
<script>
    VANTA.NET({
      el: "#vanta-canva",
      mouseControls: true,
      touchControls: true,
      gyroControls: false,
      minHeight: 700.00,
      minWidth: 700.00,
      scale: 1.00,
      scaleMobile: 1.00,
      color: 0xde653f,
      backgroundColor: 0x16171b,
      spacing: 18.00,
      showDots:false
     
  })
</script>
    <script src="./assets/JS/script.js"></script>

    <script>
    const chatBox = document.getElementById("chat-box");
    const userInput = document.getElementById("user-input");
    const sendBtn = document.getElementById("send-btn");
    const newChatBtn = document.getElementById("new-chat-btn");
    const fullscreenBtn = document.getElementById("fullscreen-btn");
    const chatContainer = document.getElementById("chat-container");
    const chatbotIcon = document.getElementById("chatbot-icon");

    //  Gemini API
    const API_KEY = "AIzaSyDRQ_cyqmOyu2v2f_iJIbJ0F2XY5t0uC6g"; 
    const url = "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=" + API_KEY;

    //  SkillPilot trained responses
    const skillPilotResponses = {
      "courses": " SkillPilot offers Web Development, Data Science, AI, and Digital Marketing courses.",
      "offers": " Limited-time offer: 50% OFF on Web Dev & AI courses this month!",
      "about": "I'm SkillPilot Bot. I help you explore courses and special deals.",
      "contact": " Contact us: support@skillpilot.com | +92-300-1234567"
    };

    //  Show/hide chatbot
    chatbotIcon.addEventListener("click", () => {
      chatContainer.style.display = chatContainer.style.display === "flex" ? "none" : "flex";
      if(chatBox.innerHTML.trim() === "") {
        addBotMessage("Hello , I'm SkillPilot Bot! ");
      }
    });

    //  Streaming text effect
    function streamMessage(element, text, speed = 40) {
      let i = 0;
      function typeWriter() {
        if (i < text.length) {
          element.textContent += text.charAt(i);
          i++;
          setTimeout(typeWriter, speed);
          chatBox.scrollTop = chatBox.scrollHeight;
        }
      }
      typeWriter();
    }

    function addBotMessage(text, streaming = true) {
      let botMsg = document.createElement("div");
      botMsg.className = "bot-message";
      chatBox.appendChild(botMsg);
      if(streaming) {
        streamMessage(botMsg, text);
      } else {
        botMsg.textContent = text;
      }
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    function addUserMessage(text) {
      let userMsg = document.createElement("div");
      userMsg.className = "user-message";
      userMsg.textContent = text;
      chatBox.appendChild(userMsg);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    //  Send message
    async function sendMessage(msg) {
  addUserMessage(msg);

  let lowerMsg = msg.toLowerCase();

  // Look for a keyword in the input
  for (let key in skillPilotResponses) {
    if (lowerMsg.includes(key)) {
      addBotMessage(skillPilotResponses[key], true);
      return;
    }
  }

  // Otherwise â†’ Gemini
  const requestBody = {
    contents: [{ parts: [{ text: msg }] }]
  };

  try {
    let response = await fetch(url, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(requestBody)
    });

    let data = await response.json();
    let output = data.candidates[0].content.parts[0].text;
    addBotMessage(output, true);
  } catch (error) {
    addBotMessage("Error: Could not connect.", false);
  }
}

    //  Event Listeners
    sendBtn.addEventListener("click", () => {
      let msg = userInput.value.trim();
      if(msg) {
        sendMessage(msg);
        userInput.value = "";
      }
    });

    userInput.addEventListener("keypress", (e) => {
      if(e.key === "Enter") sendBtn.click();
    });

    newChatBtn.addEventListener("click", () => {
      chatBox.innerHTML = "";
      addBotMessage(" New chat started with SkillPilot Bot!");
    });

    fullscreenBtn.addEventListener("click", () => {
      chatContainer.classList.toggle("fullscreen");
    });
  </script>
</body>
</html>